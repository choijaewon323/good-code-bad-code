# 6.3 예상치 못한 부수 효과를 피하라

- 부수효과가 애초에 일어나지 않도록 하는게 제일 좋다.
- 불가능하다면, 호출하는 쪽에서 확실히 인지하게 하는것이 중요

## 6.3.1 분명하고 의도적인 부수 효과는 괜찮다

```java

void displayErrorMessage(String message) {
    canvas.drawText(message, Color.RED);
}

```

- 분명하게 부수 효과를 낸다고 설명했으므로 괜찮음

## 6.3.2 예기치 않은 부수 효과는 문제가 될 수 있다

```java

Color getPixel(int x, int y) {
    canvas.redraw(); // 부수 효과
    PixelData data = canvas.getPixel(x, y);
    return new Color(...);
}

```

- canvas.redraw()는 비용이 많이 들수 있다.
- 이 점을 인지하지 못한채 getPixel()를 난사하면 매우 느려질 수 있다.
- 다중 스레드에서 문제가 생길 수도 있다.

## 6.3.3 해결책: 부수 효과를 피하거나 그 사실을 분명하게 하라

- 애초에 canvas.redraw()를 호출할 필요가 없다면 아예 호출하지 않아야함
- 만약 꼭 필요하다면, redrawAndGetPixel() 로 이름을 변경하여 부수 효과를 나타내줘야한다.