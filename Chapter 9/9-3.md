# 9.3 기본 반환값을 적절하게 사용하라

## 9.3.1 낮은 층위의 코드의 기본 반환값은 재사용성을 해칠 수 있다

```java
class UserDocumentSettings {
    private final Font font;

    Font getPreferredFont() {
        if (font != null) {
            return font;
        }
        return Font.ARIAL;
    }
}
```

- 기본값을 너무 낮은 수준의 계층에 정하면 그 가정이 적용되는 상위 계층이 너무 많아짐 -> 재사용성이 떨어지게됨
- 별개의 하위 문제로 분리하고, 상위 계층의 코드가 자신에게 적합한 방식으로 기본값을 처리할 수 있게 하는게 더 나음

## 9.3.2 해결책: 상위 수준의 코드에서 기본값을 제공하라
```java
class UserDocumentSettings {
    private final Font font;

    Font getPreferredFont() {
        return font;
    }
}
class DefaultDocumentSettings {
    Font getDefaultFont() {
        return Font.ARIAL;
    }
}
class DocumentSettings {
    private final UserDocumentSettings userSettings;
    private final DefaultDocumentSettings defaultSettings;

    DocumentSettings(
        UserDocumentSettings userSettings,
        DefaultDocumentSettings defaultSettings
    ) {
        this.userSettings = userSettings;
        this.defaultSettings = defaultSettings;
    }

    Font getFont() {
        Font userFont = userSettings.getPreferredFont();
        if (userFont != null) {
            return userFont;
        }
        return defaultSettings.getFont();
    }
}
```

- 기본값 설정에 대한 세부 사항을 DocumentSettings 안에 숨기고, 의존성 주입을 통해 구현 세부 정보를 재설정할 수도 있음
